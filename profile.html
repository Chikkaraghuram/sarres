<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Customer Profile</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans text-gray-800">

  <div class="max-w-2xl mx-auto mt-10 bg-white p-6 rounded shadow">
    <h2 class="text-3xl font-bold text-pink-700 mb-4 text-center">Your Profile</h2>

    <!-- Personal Info -->
    <div class="mb-6">
      <h3 class="text-xl font-semibold mb-2">Customer Details</h3>
      <p><strong>Name:</strong> <span id="profileName"></span></p>
      <p><strong>Email:</strong> <span id="profileEmail"></span></p>
      <p><strong>Phone:</strong> <span id="profilePhone"></span></p>
    </div>

    <!-- Booking Info -->
    <div>
      <h3 class="text-xl font-semibold mb-2">Booking Details</h3>
      <div id="bookingInfo">
        <p>No bookings yet.</p>
      </div>
    </div>

    <div class="mt-6 text-center">
      <button onclick="window.location.href='index.html'" class="bg-pink-600 text-white px-4 py-2 rounded hover:bg-pink-700">
        Back to Home
      </button>
    </div>
  </div>

  <script>
    // Redirect if not logged in
    if (localStorage.getItem("loggedIn") !== "true") {
      window.location.href = "login.html";
    }

    const user = JSON.parse(localStorage.getItem("registeredUser"));
    if (user) {
      document.getElementById("profileName").textContent = user.name || "N/A";
      document.getElementById("profileEmail").textContent = user.email || "N/A";
      document.getElementById("profilePhone").textContent = user.phone || "N/A";
    }

    // Show booking info
    const quantity = localStorage.getItem("quantity");
    const totalPrice = localStorage.getItem("totalPrice");
    const address = localStorage.getItem("address");
    const pincode = localStorage.getItem("pincode");

    if (quantity && totalPrice && address) {
      document.getElementById("bookingInfo").innerHTML = `
        <p><strong>Product:</strong> Traditional Ikat Silk Saree – Orange & Royal Blue</p>
        <p><strong>Quantity:</strong> ${quantity}</p>
        <p><strong>Total Price:</strong> ₹${totalPrice}</p>
        <p><strong>Delivery Address:</strong> ${address}, Pincode: ${pincode}</p>
      `;
    }
  </script>

</body>
</html>
